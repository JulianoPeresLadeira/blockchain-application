
# Blockchain Application

A couple of dashboards and an invoice service for a simple pay-per-use blockchain application.

## Project Overview

The application consists of two parts, the back end which is comprised of a server that runs the blockchain and another that runs the invoicing service. The invoicing server calls the blockchain server to get the information of the transactions processed. Invoices generated by the server are saved on the 'resources' folder in the server before being sent to the client.

The client calls both servers according to the context, the blockchain server to show the dashboard containing the information of the transactions and the invoice service should the user request an invoice. The client updates the dashboard every 30 seconds, so any update on the blockchain will be reflected on the front end the next time a request to it is made.

The blockchain server does not process new cycles automatically, but all pending cycles can be processed by placing the JSON sent from the screwdriver on the 'json' folder calling the API. Cycles whose payload have already been processed won't be reprocessed. 

## Running the Application

Two docker containers were created for the execution of the application, one which hosts the servers and another to serve the client. It is also possible to host both on the same machine, without the containers.

### Prerequisites

To run the application with the containers, it is necessary to have docker installed.

To run the application in the same machine, it is necessary node (development and testing was done on version 10.16.2 with npm on version 6.10.3) and an http server (tested with the npm package http-server, on version 0.11.1)

### Installing

To run the server development environment:
```
cd server
npm install
npm run tsc
npm start
```

To run the client development environment:
```
cd client
npm install
ng serve
```


**The servers require the ports 8080 and 8081, and the client requires the port 4200**

### Deployment

To build the docker containers, give execution permissions to build.sh. 

Execute it with
```
./build.sh
```

It will create two images, blockchain-server and blockchain-client.

After that, give permission to run.sh, which will run two containers that will serve the application.

```
./run.sh
```

However you decided to run the application, the client should be accessed on 

```
http://localhost:4200
```

## Built With

* [Express.js](https://expressjs.com/) - The web framework used
* [TypeScript](https://www.typescriptlang.org/) - The Programming Language used
* [nodeice](https://github.com/IonicaBizau/nodeice/blob/master/DOCUMENTATION.md) - Library for generating the invoices
* [Angular](https://angular.io/) - The framework for writing the client
* [Bootstrap](https://getbootstrap.com/) - The front end component library

## Author

* Juliano Ladeira

